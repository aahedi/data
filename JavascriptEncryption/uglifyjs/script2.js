"use strict";function uglify(t,o){var e=defaults({},o.parse),n=defaults({},o.compress),i=defaults({},o.output);e=defaults(e,default_options.parse,!0),n=defaults(n,default_options.compress,!0),i=defaults(i,default_options.output,!0);var s=parse(t,e);s.figure_out_scope();var r=new Compressor(n),a=s.transform(r);return a.figure_out_scope(),a.compute_char_frequency(),a.mangle_names(),t=a.print_to_string(i)}function $(t){return document.getElementById(t)}function is_visible(t){return(" "+$body.className+" ").indexOf(" "+t+" ")>=0}function hide(t){for(var o=t.split(" "),e=" "+$body.className+" ",n=0;n<o.length;n++)for(;e.indexOf(" "+o[n]+" ")>=0;)e=e.replace(" "+o[n]+" "," ");$body.className=e.replace(/^\s+|\s+$/g,"")}function show(t){$body.className+=" "+t}function toggle(t){for(var o=t.split(" "),e=0;e<o.length;e++)is_visible(o[e])?hide(o[e]):show(o[e])}function toggle_options(){var t=!0;is_visible("s-options")&&(t=set_options()),t&&toggle("s-input s-options")}function get_options(t){return Function("return ("+(t||$options.value)+");")()}function set_options(){var t=uglify_options;try{uglify_options=get_options();try{default_options_text===$options.value?localStorage.removeItem("uglify-options"):localStorage.setItem("uglify-options",$options.value)}catch(o){}return go2(!0),!0}catch(o){return o instanceof JS_Parse_Error?(show_error(o,$in2.value),!0):(uglify_options=t,show_error(o),!1)}}function reset_options(){$options.value=default_options_text,$btn_options.focus()}function set_options_ait(){try{$cb_as_i_type.checked?localStorage.removeItem("uglify-options-disable-ait"):localStorage.setItem("uglify-options-disable-ait",1)}catch(t){}}function set_options_initial(){default_options_text=$options.textContent||$options.innerText,default_options=get_options(default_options_text);try{var t=localStorage.getItem("uglify-options");t&&($options.value=t),$cb_as_i_type.checked=!localStorage.getItem("uglify-options-disable-ait")}catch(o){}try{uglify_options=get_options()}catch(o){$options.value=default_options_text,uglify_options=default_options}}function encodeHTML(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function go2(t){function o(){var t=uglify(e,uglify_options);hide("s-info s-error"),show("s-output"),$out2.value=t||"/* no output! */",$stats.innerHTML=t.length+" bytes, saved "+(100*(1-t.length/e.length)||0).toFixed(2)+"%"}var e=$in2.value;if(last_input=e,t===!0)o();else try{o()}catch(n){show_error(n,e)}}function go_ait(){if($cb_as_i_type.checked){var t=$in2.value;t!==last_input&&(last_input=t,clearTimeout(ait_timeout),ait_timeout=setTimeout(function(){var t=new Date;go2(),ait_last_duration=new Date-t},ait_last_duration))}}function show_error(t,o){if(console.error("Error",t),hide("s-info s-output"),show("s-error"),t instanceof JS_Parse_Error){var e=o,n=e.split("\n"),i=n[t.line-1];t="Parse error: <strong>"+encodeHTML(t.message)+"</strong>\n<small>Line "+t.line+", column "+(t.col+1)+"</small>\n\n"+(n[t.line-2]?t.line-1+": "+encodeHTML(n[t.line-2])+"\n":"")+t.line+": "+encodeHTML(i.substr(0,t.col))+"<mark>"+encodeHTML(i.substr(t.col,1)||" ")+"</mark>"+encodeHTML(i.substr(t.col+1))+"\n"+(n[t.line]?t.line+1+": "+encodeHTML(n[t.line]):"")}else t=t instanceof DefaultsError?"<strong>"+encodeHTML(t.msg)+"</strong>":t instanceof Error?t.name+": <strong>"+encodeHTML(t.message)+"</strong>":"<strong>"+encodeHTML(t)+"</strong>";$error.innerHTML=t}function go_to_start(){return clearTimeout(ait_timeout),hide("s-options s-error s-output"),show("s-input s-info"),!1}function select_text(){var t=this;return t.select(),t.onmouseup=t.onkeyup=function(){return t.onmouseup=t.onkeyup=null,t.scrollTop=0,!1},!1}var default_options={};window.console=window.console||{log:function(){},error:function(){}};var uglify_options,$options=$("options"),$out2=$("uglify2"),$in2=$("packer1"),$error=$("error"),$stats=$("stats"),$body=document.body,$btn_options=$("btn-options"),$cb_as_i_type=$("cb-as-i-type");$("header-link").onclick=go_to_start,$("btn-go").onclick=go2,$btn_options.onclick=toggle_options,$("btn-options-save").onclick=toggle_options,$("btn-options-reset").onclick=reset_options,$in2.oninput=$in2.onkeyup=$in2.onblur=$in2.onfocus=go_ait,$cb_as_i_type.onclick=set_options_ait,$out2.onfocus=select_text;var default_options_text;set_options_initial();var last_input,ait_timeout,ait_last_duration=50;