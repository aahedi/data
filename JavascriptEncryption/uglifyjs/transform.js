"use strict";function TreeTransformer(n,o){TreeWalker.call(this),this.before=n,this.after=o}TreeTransformer.prototype=new TreeWalker,function(n){function o(o,r){o.DEFMETHOD("transform",function(o,t){var e,a;return o.push(this),o.before&&(e=o.before(this,r,t)),e===n&&(o.after?(o.stack[o.stack.length-1]=e=this.clone(),r(e,o),a=o.after(e,t),a!==n&&(e=a)):(e=this,r(e,o))),o.pop(),e})}function r(n,o){return MAP(n,function(n){return n.transform(o,!0)})}o(AST_Node,noop),o(AST_LabeledStatement,function(n,o){n.label=n.label.transform(o),n.body=n.body.transform(o)}),o(AST_SimpleStatement,function(n,o){n.body=n.body.transform(o)}),o(AST_Block,function(n,o){n.body=r(n.body,o)}),o(AST_DWLoop,function(n,o){n.condition=n.condition.transform(o),n.body=n.body.transform(o)}),o(AST_For,function(n,o){n.init&&(n.init=n.init.transform(o)),n.condition&&(n.condition=n.condition.transform(o)),n.step&&(n.step=n.step.transform(o)),n.body=n.body.transform(o)}),o(AST_ForIn,function(n,o){n.init=n.init.transform(o),n.object=n.object.transform(o),n.body=n.body.transform(o)}),o(AST_With,function(n,o){n.expression=n.expression.transform(o),n.body=n.body.transform(o)}),o(AST_Exit,function(n,o){n.value&&(n.value=n.value.transform(o))}),o(AST_LoopControl,function(n,o){n.label&&(n.label=n.label.transform(o))}),o(AST_If,function(n,o){n.condition=n.condition.transform(o),n.body=n.body.transform(o),n.alternative&&(n.alternative=n.alternative.transform(o))}),o(AST_Switch,function(n,o){n.expression=n.expression.transform(o),n.body=r(n.body,o)}),o(AST_Case,function(n,o){n.expression=n.expression.transform(o),n.body=r(n.body,o)}),o(AST_Try,function(n,o){n.body=r(n.body,o),n.bcatch&&(n.bcatch=n.bcatch.transform(o)),n.bfinally&&(n.bfinally=n.bfinally.transform(o))}),o(AST_Catch,function(n,o){n.argname=n.argname.transform(o),n.body=r(n.body,o)}),o(AST_Definitions,function(n,o){n.definitions=r(n.definitions,o)}),o(AST_VarDef,function(n,o){n.name=n.name.transform(o),n.value&&(n.value=n.value.transform(o))}),o(AST_Lambda,function(n,o){n.name&&(n.name=n.name.transform(o)),n.argnames=r(n.argnames,o),n.body=r(n.body,o)}),o(AST_Call,function(n,o){n.expression=n.expression.transform(o),n.args=r(n.args,o)}),o(AST_Seq,function(n,o){n.car=n.car.transform(o),n.cdr=n.cdr.transform(o)}),o(AST_Dot,function(n,o){n.expression=n.expression.transform(o)}),o(AST_Sub,function(n,o){n.expression=n.expression.transform(o),n.property=n.property.transform(o)}),o(AST_Unary,function(n,o){n.expression=n.expression.transform(o)}),o(AST_Binary,function(n,o){n.left=n.left.transform(o),n.right=n.right.transform(o)}),o(AST_Conditional,function(n,o){n.condition=n.condition.transform(o),n.consequent=n.consequent.transform(o),n.alternative=n.alternative.transform(o)}),o(AST_Array,function(n,o){n.elements=r(n.elements,o)}),o(AST_Object,function(n,o){n.properties=r(n.properties,o)}),o(AST_ObjectProperty,function(n,o){n.value=n.value.transform(o)})}();