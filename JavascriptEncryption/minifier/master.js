!function(){"use strict";function e(e){return document.getElementById(e)}function t(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(){return{removeIgnored:e("remove-ignored").checked,removeComments:e("remove-comments").checked,removeCommentsFromCDATA:e("remove-comments-from-cdata").checked,removeCDATASectionsFromCDATA:e("remove-cdata-sections-from-cdata").checked,collapseWhitespace:e("collapse-whitespace").checked,conservativeCollapse:e("conservative-collapse").checked,collapseBooleanAttributes:e("collapse-boolean-attributes").checked,removeAttributeQuotes:e("remove-attribute-quotes").checked,removeRedundantAttributes:e("remove-redundant-attributes").checked,useShortDoctype:e("use-short-doctype").checked,removeEmptyAttributes:e("remove-empty-attributes").checked,removeEmptyElements:e("remove-empty-elements").checked,removeOptionalTags:e("remove-optional-tags").checked,removeScriptTypeAttributes:e("remove-script-type-attributes").checked,removeStyleLinkTypeAttributes:e("remove-style-link-type-attributes").checked,caseSensitive:e("case-sensitive").checked,keepClosingSlash:e("keep-closing-slash").checked,minifyJS:e("minify-js").checked,processScripts:e("minify-js-templates").checked?e("minify-js-templates-type").value:!1,minifyCSS:e("minify-css").checked,minifyURLs:e("minify-urls").checked?{site:e("minify-urls-siteurl").value}:!1,lint:e("use-htmllint").checked?new HTMLLint:null,maxLineLength:parseInt(e("max-line-length").value,10)}}function r(e){return(e+"").split("").reverse().join("").replace(/(...)(?!$)/g,"$1,").split("").reverse().join("")}function i(){try{var i=n(),o=i.lint,s=e("uglify2").value,a=minify(s,i),c=s.length-a.length,u=s.length?(100*c/s.length).toFixed(2):0;e("output").value=a,e("stats").innerHTML='<span class="success">Original size: <strong>'+r(s.length)+"</strong>. Minified size: <strong>"+r(a.length)+"</strong>. Savings: <strong>"+r(c)+" ("+u+"%)</strong>.</span>",o&&o.populate(e("report"))}catch(l){e("output").value="",e("stats").innerHTML='<span class="failure">'+t(l)+"</span>"}}function o(t){for(var n=e("options").getElementsByTagName("input"),r=n.length;r--;)n[r].checked=t}e("max-line-length").oninput=function(){i()},e("minify-btn").onclick=function(){i(),generate(),document.getElementById("enk").disabled=!1,document.getElementById("minify-btn").style.display="none",document.getElementById("btn-go").style.display="block"},e("select-all").onclick=function(){return o(!0),!1},e("select-none").onclick=function(){return o(!1),!1},e("select-safe").onclick=function(){o(!0);var t=e("options").getElementsByTagName("input");return t[10].checked=!1,t[11].checked=!1,t[18].checked=!1,!1}}();